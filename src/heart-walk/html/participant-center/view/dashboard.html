<div cg-busy="dashboardPromises" ng-class="{'heart-dashboard--has-team': participantRegistration.teamId && participantRegistration.teamId != '-1', 'heart-dashboard--has-company': participantRegistration.companyInformation && participantRegistration.companyInformation.companyId && participantRegistration.companyInformation.companyId != -1}">
  <uib-tabset active="active">
    <uib-tab index="0">
      <uib-tab-heading>
        Me
      </uib-tab-heading>
      <div class="clearfix header_checklist">
        <div class="hidden">
          Reset interaction ID for testing<br>
          <form ng-submit="resetInt(intID)">
            <input type="text" name="reset_int" class="form-control" ng-model="intID">
            <button type="submit" class="btn btn-primary-inverted text-uppercase">Submit</button>
          </form>
        </div>
        <div ng-if="constituent" class="header_greetings">
          <h1 ng-if="constituent.name && constituent.name.first">
            {{constituent.name.first}}, <span ng-if="dashboardGreeting == 'facebookFundraiser'"><a id="facebook_fundraiser_link" ng-href="{{baseUrl}}#facebook-fundraisers" target="_self" ng-click="scrollToFacebookFundraiser()">reach your goal faster with Facebook!</a></span><span ng-if="dashboardGreeting == 'page'"><a id="get_started_link" ng-href="{{personalPageUrl}}">get started by updating your story!</a></span><span ng-if="dashboardGreeting == 'donate'"><a id="dont_forget_donation" ng-href="Donation2?df_id={{eventInfo.donationFormId}}&amp;FR_ID={{frId}}&amp;PROXY_TYPE=20&amp;PROXY_ID={{consId}}">don't forget to make a donation!</a></span><span ng-if="dashboardGreeting == 'email'"><a id="send_an_email" ng-href="{{baseUrl}}#/email/compose">send an email to get closer to your goal!</a></span><span ng-if="dashboardGreeting == 'why'"><a id="tell_us_why" ng-href="{{personalPageUrlSecure}}&amp;videoWhy=true">tell us why you walk!</a></span><span ng-if="dashboardGreeting == 'social'"><span ng-if="device.isMobile && device.mobileType == 'ios'"><a id="go_social_with_hw" href="https://itunes.apple.com/us/app/cyclenation/id1155979191?mt=8" target="_blank">download the Heart Walk mobile app!</a></span><span ng-if="device.isMobile && device.mobileType == 'android'"><a id="go_social_with_hw" href="https://play.google.com/store/apps/details?id=com.aha.cyclenation" target="_blank">download the Heart Walk mobile app!</a></span><span ng-if="!device.isMobile"><a id="go_social_with_hw" ng-href="{{baseUrl}}#/social">go social with Heart Walk!</a></span></span><span ng-if="dashboardGreeting == 'profile'"><a id="tell_us_about_you" href ng-click="profileChecklist()">tell us about you!</a></span><span ng-if="dashboardGreeting == 'goal1'"><a id="halfway_to_goal" ng-href="PageServer?pagename=heartwalk_fundraising_tools&amp;fr_id={{frId}}">you're halfway to your goal. Go Social</a></span><span ng-if="dashboardGreeting == 'goal2'"><a id="reached_goal" href ng-click="editGoal('Participant')">congrats! You reached your goal!</a></span><span ng-if="dashboardGreeting == 'default'"><a id="send_email_to_get_closer" ng-href="{{baseUrl}}#/email/compose">send an email to get closer to your goal!</a></span>
          </h1>
          <h1 ng-if="!constituent.name.first">
            Participant, <span ng-if="dashboardGreeting == 'facebookFundraiser'"><a id="facebook_fundraiser_link_anon" ng-href="{{baseUrl}}#facebook-fundraisers" target="_self" ng-click="scrollToFacebookFundraiser()">reach your goal faster with Facebook!</a></span><span ng-if="dashboardGreeting == 'page'"><a id="get_started_link_anon" ng-href="{{personalPageUrl}}">get started by updating your story!</a></span><span ng-if="dashboardGreeting == 'donate'"><a id="dont_forget_donation_anon" ng-href="Donation2?df_id={{eventInfo.donationFormId}}&amp;FR_ID={{frId}}&amp;PROXY_TYPE=20&amp;PROXY_ID={{consId}}">don't forget to make a donation!</a></span><span ng-if="dashboardGreeting == 'email'"><a id="sent_an_email" ng-href="{{baseUrl}}#/email/compose">send an email to get closer to your goal!</a></span><span ng-if="dashboardGreeting == 'why'"><a id="tell_us_why_anon" ng-href="{{personalPageUrlSecure}}&amp;videoWhy=true">tell us why you walk!</a></span><span ng-if="dashboardGreeting == 'social'"><span ng-if="device.isMobile && device.mobileType == 'ios'"><a id="go_social_with_hw" href="https://itunes.apple.com/us/app/cyclenation/id1155979191?mt=8" target="_blank">download the Heart Walk mobile app!</a></span><span ng-if="device.isMobile && device.mobileType == 'android'"><a id="go_social_with_hw" href="https://play.google.com/store/apps/details?id=com.aha.cyclenation" target="_blank">download the Heart Walk mobile app!</a></span><span ng-if="!device.isMobile"><a id="go_social_with_hw" ng-href="{{baseUrl}}#/social">go social with Heart Walk!</a></span></span><span ng-if="dashboardGreeting == 'profile'"><a id="tell_us_about_you_anon" href ng-click="profileChecklist()">tell us about you!</a></span><span ng-if="dashboardGreeting == 'goal1'"><a id="halfway_to_goal_anon" ng-href="PageServer?pagename=heartwalk_fundraising_tools&amp;fr_id={{frId}}">you're halfway to your goal. Go Social</a></span><span ng-if="dashboardGreeting == 'goal2'"><a id="reached_goal_anon" href ng-click="editGoal('Participant')">congrats! You reached your goal!</a></span><span ng-if="dashboardGreeting == 'default'"><a id="send_email_to_get_closer_anon" ng-href="{{baseUrl}}#/email/compose">send an email to get closer to your goal!</a></span>
          </h1>
        </div>
        <h2>
          Or get started on another item:
        </h2>
        <div class="row profile_box_row">
          <div class="col-sm-4 profile_box" ng-if="userInteractions.page != '1'">
            <div class="profile_box_icon pull-left">
              <i class="fa fa-pencil"></i>
            </div>
            <div class="profile_box_info pull-right">
              <div class="profile_box_text">
                Personalize your page with your "Why" story.
              </div>
              <a id="update_your_page" class="btn btn-primary" ng-href="{{personalPageUrl}}">Update Your Story</a>
            </div>
          </div>
          <div class="col-sm-4 profile_box" ng-if="userInteractions.page == '1'">
            <div class="profile_box_icon pull-left">
              <i class="fa fa-check"></i>
            </div>
            <div class="profile_box_info pull-right">
              <div class="profile_box_text">
                Story told! Your personal story was successfully updated.
              </div>
              <a id="update_page_again" class="btn btn-primary" ng-href="{{personalPageUrl}}">Update Story Again</a>
            </div>
          </div>

          <div class="col-sm-4 profile_box" ng-if="userInteractions.donate != '1'">
            <div class="profile_box_icon pull-left">
              <i class="fa fa-dollar"></i>
            </div>
            <div class="profile_box_info pull-right">
              <div class="profile_box_text">
                Kick-start your fundraising by donating towards your goal.
              </div>
              <a id="make_a_donation" class="btn btn-primary" ng-href="Donation2?df_id={{eventInfo.donationFormId}}&amp;FR_ID={{frId}}&amp;PROXY_TYPE=20&amp;PROXY_ID={{consId}}">Make a Donation</a>
            </div>
          </div>
          <div class="col-sm-4 profile_box" ng-if="userInteractions.donate == '1'">
            <div class="profile_box_icon pull-left">
              <i class="fa fa-check"></i>
            </div>
            <div class="profile_box_info pull-right">
              <div class="profile_box_text">
                Donation success!<br>
                Thank You!
              </div>
              <a id="make_another_donation" class="btn btn-primary" ng-href="Donation2?df_id={{eventInfo.donationFormId}}&amp;FR_ID={{frId}}&amp;PROXY_TYPE=20&amp;PROXY_ID={{consId}}">Make Another Donation</a>
            </div>
          </div>

          <div class="col-sm-4 profile_box" ng-if="userInteractions.email != '1'">
            <div class="profile_box_icon pull-left">
              <i class="fa fa-at"></i>
            </div>
            <div class="profile_box_info pull-right">
              <div class="profile_box_text">
                Send emails to ask friends to join or donate today.
              </div>
              <a id="send_an_email" class="btn btn-primary" ng-href="{{baseUrl}}#/email/compose">Send an Email</a>
            </div>
          </div>
          <div class="col-sm-4 profile_box" ng-if="userInteractions.email == '1'">
            <div class="profile_box_icon pull-left">
              <i class="fa fa-check"></i>
            </div>
            <div class="profile_box_info pull-right">
              <div class="profile_box_text">
                Nice job! Sending emails helps get you to your goal.
              </div>
              <a id="send_another_email" class="btn btn-primary" ng-href="{{baseUrl}}#/email/compose">Send Another Email</a>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-4 profile_box" ng-if="userInteractions.why != '1'">
            <div class="profile_box_icon pull-left">
              <i class="fa fa-question"></i>
            </div>
            <div class="profile_box_info pull-right">
              <div class="profile_box_text">
                Why do you walk? Finish this sentence: "______ is Why."
              </div>
              <a id="tell_us_your_why" class="btn btn-primary" ng-href="{{personalPageUrlSecure}}&amp;videoWhy=true">Tell Us Your Why</a>
            </div>
          </div>
          <div class="col-sm-4 profile_box" ng-if="userInteractions.why == '1'">
            <div class="profile_box_icon pull-left">
              <i class="fa fa-check"></i>
            </div>
            <div class="profile_box_info pull-right">
              <div class="profile_box_text">
                Thank you for telling us<br>
                your Why: {{sqvm.surveyModel.question_key_what_is_why}}
              </div>
              <a id="update_your_why" class="btn btn-primary" ng-href="{{personalPageUrlSecure}}&amp;videoWhy=true">Update Your Why</a>
            </div>
          </div>

          <div class="col-sm-4 profile_box" ng-if="!hasBoundlessApp">
            <div class="profile_box_icon pull-left">
              <img class="mobile_app_icon" src="../images/content/pagebuilder/AHA-mobile-phone-A1A2A3.svg">
            </div>
            <div class="profile_box_info pull-right">
              <div class="profile_box_text">
                Download our mobile app to fundraise on the go! Our app makes fundraising easy.
              </div>
              <a id="go_social" class="btn btn-primary" ng-if="device.isMobile && device.mobileType == 'android'" href="https://play.google.com/store/apps/details?id=com.aha.cyclenation" ng-click="sendGAEvent('Go Social Android- social lightbox');">Get the Heart Walk App</a>
              <a id="go_social" class="btn btn-primary" ng-if="device.isMobile && device.mobileType == 'ios'" href="https://itunes.apple.com/us/app/cyclenation/id1155979191?mt=8" ng-click="sendGAEvent('Go Social ios - social lightbox');">Get the Heart Walk App</a>
              <a id="go_social" class="btn btn-primary" ng-if="!device.isMobile" ng-href="PageServer?pagename=heartwalk_fundraising_tools&amp;fr_id={{frId}}" ng-click="sendGAEvent('Go Social - social lightbox');">Get the Heart Walk App</a>
            </div>
          </div>
          <div class="col-sm-4 profile_box" ng-if="hasBoundlessApp">
            <div class="profile_box_icon pull-left">
              <i class="fa fa-check"></i>
            </div>
            <div class="profile_box_info pull-right">
              <div class="profile_box_text">
                You&rsquo;ve downloaded the app, so now use it! It&rsquo;ll make fundraising easy peasy!
              </div>
              <a id="go_social_again" class="btn btn-primary" ng-if="device.isMobile && device.mobileType == 'android'" href="https://play.google.com/store/apps/details?id=com.aha.cyclenation" ng-click="sendGAEvent('Go Social Android- social lightbox');">Use the Heart Walk App</a>
              <a id="go_social_again" class="btn btn-primary" ng-if="device.isMobile && device.mobileType == 'ios'" href="https://itunes.apple.com/us/app/cyclenation/id1155979191?mt=8" ng-click="sendGAEvent('Go Social Android- social lightbox');">Use the Heart Walk App</a>
              <a id="go_social_again" class="btn btn-primary" ng-if="!device.isMobile" ng-href="PageServer?pagename=heartwalk_fundraising_tools&amp;fr_id={{frId}}" ng-click="sendGAEvent('Go Social - social lightbox');">Use the Heart Walk App</a>              
            </div>
          </div>

          <div class="col-sm-4 profile_box" ng-if="userInteractions.profile != '1'">
            <div class="profile_box_icon pull-left profile_progress">
              <div class="progress red ratio{{profileProgress}}">
                <span class="progress-left">
                  <span class="progress-bar"></span>
                </span>
                <span class="progress-right">
                  <span class="progress-bar"></span>
                </span>
                <div class="progress-value">{{profilePercent}}%</div>
              </div>
            </div>
            <div class="profile_box_info pull-right">
              <div class="profile_box_text">
                We're missing your details! Complete your profile now.
              </div>
              <a class="btn btn-primary" id="update_my_profile" href ng-click="profileChecklist()">Update My Profile</a>
            </div>
          </div>
          <div class="col-sm-4 profile_box" ng-if="userInteractions.profile == '1'">
            <div class="profile_box_icon pull-left">
              <i class="fa fa-check"></i>
            </div>
            <div class="profile_box_info pull-right">
              <div class="profile_box_text">
                Your profile is complete. Thanks for keeping it updated.
              </div>
              <a class="btn btn-primary" id="update_my_profile_again" href ng-click="profileChecklist()">Update My Profile Again</a>
            </div>
          </div>
        </div>
      </div>
      <div class="pc-facebook-fundraiser js--facebook-fundraiser-uncompleted-section" id="facebook-fundraisers" ng-if="facebookFundraisersEnabled" ng-show="!facebookFundraiserId" ng-cloak>
        <div class="container">
          <h2>
            Reach Your Goal Faster
          </h2>
          <p class="h3">
            Raise money directly on Facebook
          </p>
          <ol class="list-unstyled">
            <li>
              Connect this fundraiser to Facebook.
            </li>
            <li>
              Invite friends, share updates and collect donations on Facebook.
            </li>
            <li>
              Keep track of your progress. The money you raise on Facebook will count toward your goal.
            </li>
          </ol>
          <div role="alert" class="alert alert-danger" ng-if="facebookFundraiserLoginStatus == 'login_error' || facebookFundraiserLoginStatus == 'permission_error' || facebookFundraiserLoginStatus == 'create_fundraiser_error' || facebookFundraiserCreateStatus == 'login_error' || facebookFundraiserCreateStatus == 'permission_error' || facebookFundraiserCreateStatus == 'create_fundraiser_error'" ng-cloak>
            An error occurred attempting to connect to Facebook. Please try again later.
          </div>
          <div role="alert" class="alert alert-danger" ng-if="facebookFundraiserLoginStatus == 'declined_manage_fundraisers'" ng-cloak>
            We need your permission to create a Facebook Fundraiser on your behalf.
          </div>
          <button type="button" class="btn pc-facebook-fundraiser-btn" ng-click="sendGAEvent('Connect to Fundraiser FB Banner'); loginToFacebook()" ng-if="facebookFundraiserLoginStatus != 'pending' && facebookFundraiserCreateStatus != 'pending'" ng-cloak>
            <span class="fa fa-facebook-square"></span> Connect <span class="hidden-text-xxs">Fundraiser</span> to Facebook
          </button>
          <button type="button" class="btn pc-facebook-fundraiser-btn" disabled ng-if="facebookFundraiserLoginStatus == 'pending' || facebookFundraiserCreateStatus == 'pending'" ng-cloak>
            <span class="fa fa-facebook-square"></span> Loading ...
          </button>
          <p class="small">
            By clicking this link, you will leave AHA's website and be redirected to another site not under the control of AHA.
          </p>
        </div>
      </div>
      <div class="pc-facebook-fundraiser-connected js--facebook-fundraiser-completed-section" ng-if="facebookFundraisersEnabled" ng-show="facebookFundraiserId" ng-cloak>
        <div class="container">
          <h2>
            Your Fundraiser is Connected to Facebook!
          </h2>
          <p>
            Log in to use Facebook's fundraising tools to invite friends, share updates and collect donations. We'll keep track of your progress on Facebook and on your Heart Walk page, so you'll always know how close you are to reaching your goal.
          </p>
          <a class="btn pc-facebook-fundraiser-btn" ng-href="//facebook.com/donate/{{facebookFundraiserId}}/" target="_blank" ng-click="sendGAEvent('Go to FB Fundraiser');" ng-disabled="!facebookFundraiserConfirmedStatus || facebookFundraiserConfirmedStatus == 'pending'" ng-if="facebookFundraiserId" ng-cloak>
            Go To Facebook Fundraiser
          </a>
          <p class="small">
            By clicking this link, you will leave AHA's website and be redirected to another site not under the control of AHA.
          </p>
        </div>
      </div>
      <div class="clearfix heart_pc_achievements_container">
        <h2>My Achievements</h2>
        <p>Earn as you reach for your goal. Curious what badges you get? <a href="PageServer?pagename=heartwalk_fundraising_tools&amp;fr_id={{frId}}">Read more to learn all about achievement badges.</a></p>
        <ul class="heart_pc_achievements_badge_list">
          <li class="heart_pc_achievements_badge_item" ng-if="userInteractions.donate == '1'">
            <img src="../images/content/pagebuilder/heart-walk-personal-donation-no-text.svg" alt="You Made a Personal Donation badge">
            <span>I donated<br>towards my goal</span>
          </li>
          <li class="heart_pc_achievements_badge_item" ng-if="overFiveDonations">
            <img src="../images/content/pagebuilder/heart-walk-5-donations-no-text.svg" alt="You've Collected Over 5+ Donations badge">
            <span>I've received<br>5+ donations</span>
          </li>
          <li class="heart_pc_achievements_badge_item" ng-if="dashboardGreeting == 'goal2'">
            <img src="../images/content/pagebuilder/heart-walk-hit-goal-no-text.svg" alt="You've Reached Your Fundraising Goal badge">
            <span>I hit my<br>fundraising goal</span>
          </li>
          <li class="heart_pc_achievements_badge_item" ng-if="participantProgress.raised / 100 > 99 && participantProgress.raised  / 100 < 249" >
            <img src="../images/content/pagebuilder/heart-walk-$100-milestone-no-text.svg" alt="You've Raised Over $100 Milestone badge">
            <span>$100<br>milestone</span>
          </li>
          <li class="heart_pc_achievements_badge_item" ng-if="participantProgress.raised / 100 > 249 && participantProgress.raised / 100 < 499">
            <img src="../images/content/pagebuilder/heart-walk-$250-milestone-no-text.svg" alt="You've Raised Over $250  Milestone badge">
            <span>$250<br>milestone</span>
          </li>
          <li class="heart_pc_achievements_badge_item" ng-if="participantProgress.raised / 100 > 499 && participantProgress.raised / 100 < 999">
            <img src="../images/content/pagebuilder/heart-walk-$500-milestone-no-text.svg" alt="You've Raised Over $500 Milestone badge">
            <span>$500<br>milestone</span>
          </li>
          <li class="heart_pc_achievements_badge_item" ng-if="participantProgress.raised / 100 > 999 && participantProgress.raised / 100 < 4999">
            <img src="../images/content/pagebuilder/heart-walk-$1K-milestone-no-text.svg" alt="You've Raised Over $1000 Milestone badge">
            <span>$1000<br>milestone</span>
          </li>
          <li class="heart_pc_achievements_badge_item" ng-if="participantProgress.raised / 100 > 4999">
            <img src="../images/content/pagebuilder/heart-walk-$5K-milestone-no-text.svg" alt="You've Raised Over $5000 Milestone badge">
            <span>$5000<br>milestone</span>
          </li>
          <li class="heart_pc_achievements_badge_item" ng-if="participantRegistration.aTeamCaptain == 'true'">
            <img src="../images/content/pagebuilder/heart-walk-coach-no-text.svg" alt="You Are a Coach badge">
            <span>I'm a<br>coach</span>
          </li>
          <li class="heart_pc_achievements_badge_item" ng-if="hasBoundlessApp">
            <img src="../images/content/pagebuilder/heart-walk-mobile-app-no-text.svg" alt="You've Downloaded the Mobile App badge">
            <span>I downloaded the<br>Heart Walk app</span>
          </li>
          <li class="heart_pc_achievements_badge_item" ng-if="isOnSocial">
            <img src="../images/content/pagebuilder/heart-walk-bf-social-no-text.svg" alt="You're fundraising on Social badge">
            <span>I'm fundraising<br>on social</span>
          </li>
        </ul>
      </div>
      <div class="clearfix xyz123">
        <div class="heart-page-rail heart-page-rail--participant-center">
          <h2>
            My Progress:
          </h2>
          <div class="progress heart_pc_sidebar_thermometer">
            <div class="progress-bar heart_pc_sidebar_thermometer_fill" ng-style="{'width': participantProgress.percent + '%'}"></div>
            <span class="heart_pc_sidebar_percentage">{{participantProgress.percent}}%</span>
          </div>
          <div class="heart_pc_sidebar_row clearfix">
            <div class="pull-left">
              <p>
                Raised: {{participantProgress.raisedFormatted}}
              </p>
              <p>
                Goal: {{participantProgress.goalFormatted}}
              </p>
            </div>
            <div class="pull-right">
              <a href id="edit_goal" class="btn btn-primary-inverted btn-goal" ng-click="editGoal('Participant')" ng-if="teamraiserConfig.personalGoalAllowed == 'true'">Edit Goal</a>
            </div>
          </div>
          <div class="heart_pc_sidebar_row clearfix">
            <p>
              Share my page:
            </p>
            <div class="addthis_toolbox" addthis:url="{{personalPageUrl}}">
              <a id="share_personal_page_facebook" class="heart_pc_sidebar_sharebtn addthis_button_facebook" ng-href="{{baseUrl}}#">
                <i class="fa fa-facebook"></i><span class="sr-only">Facebook</span>
              </a>
              <a id="share_personal_page_twitter" class="heart_pc_sidebar_sharebtn addthis_button_twitter" ng-href="{{baseUrl}}#">
                <i class="fa fa-twitter"></i><span class="sr-only">Twitter</span>
              </a>
              <a id="share_personal_page_linkedin" class="heart_pc_sidebar_sharebtn addthis_button_linkedin" ng-href="{{baseUrl}}#">
                <i class="fa fa-linkedin"></i><span class="sr-only">LinkedIn</span>
              </a>
            </div>
          </div>
          <h2>
            Walk Details:
          </h2>
          <div class="heart_pc_sidebar_row clearfix">
            <p>
              <a id="walk_details_event_link" ng-href="TR?fr_id={{frId}}&amp;pg=entry"><span ng-bind-html="eventInfo.name"></span></a>
            </p>
            <p ng-if="frIdMultidate == false && eventInfo.location_name">
              Location: <span ng-bind-html="eventInfo.location_name"></span>
            </p>
            <p ng-if="frIdMultidate == true && eventLocation">
              Location: <span ng-bind-html="eventLocation"></span>
            </p>
            <p ng-if="eventInfo.event_date && eventInfo.event_date != ''">
              Date: {{eventInfo.event_date | date : 'MMMM d'}}
            </p>
            <a ng-if="viewMap !== undefined" id="view_map" class="btn btn-primary-inverted view_map" ng-href="{{viewMap}}" target="_blank">View Map</a>
          </div>
        </div>
        <div class="heart_pc_main_page">
          <h2>
            Manage My Walk:
          </h2>
          <div class="manage_walk_items clearfix" ng-if="device.isMobile">
            <div class="pull-left">
              <div class="manage_walk_header">
                Text for donations
              </div>
              <p>
                Send a mobile text with a donate link.
              </p>
            </div>
            <div class="pull-right">
              <a id="send_text_ios" class="btn btn-primary-inverted" ng-href="sms:&body=If you could save lives, would you%3F Join me today by participating or donating to the American Heart Association's Heart Walk: {{nonsecurePath}}TR%3Ffr_id={{frId}}%26pg=personal%26px={{consId}}" ng-if="device.isMobile && device.mobileType == 'ios'">
                Send Text
              </a>
              <a id="send_text_android" class="btn btn-primary-inverted" ng-href="sms:?body=If you could save lives, would you%3F Join me today by participating or donating to the American Heart Association's Heart Walk: {{nonsecurePath}}TR%3Ffr_id={{frId}}%2526pg=personal%2526px={{consId}}" ng-if="device.isMobile && device.mobileType == 'android'">
                Send Text
              </a>
            </div>
          </div>
          <div class="manage_walk_items clearfix">
            <div class="pull-left">
              <div class="manage_walk_header">
                My Fundraising URL:
              </div>
              <p>
                {{personalPageUrl}}
              </p>
            </div>
            <div class="pull-right">
              <a href id="edit_url" class="btn btn-primary-inverted" ng-click="editPageUrl('Participant')">Edit URL</a>
            </div>
          </div>
          <div class="manage_walk_items clearfix">
            <div class="pull-left">
              <div class="manage_walk_header">
                Survivor:
              </div>
              <p>
                <span ng-if="constituent.name && constituent.name.first">{{constituent.name.first}}</span><span ng-if="!constituent.name.first">Participant</span>, <span ng-if="sqvm.surveyModel.question_key_hw_recognize_survivor == 'Yes'">you are being recognized as a survivor.</span><span ng-if="sqvm.surveyModel.question_key_hw_recognize_survivor == 'No' || sqvm.surveyModel.question_key_hw_recognize_survivor == '[object Object]'">would you like to be recognized as a survivor?</span>
              </p>
            </div>
            <div class="pull-right">
              <a href id="edit_status" class="btn btn-primary-inverted" ng-click="editSurvivor()">Edit Status</a>
            </div>
          </div>
          <div class="manage_walk_items clearfix">
            <div class="pull-left">
              <div class="manage_walk_header">
                Donation Notifications:
              </div>
              <p ng-if="participantRegistration.receiveGiftNotification != 'true'">
                Turn on email notifications when I receive a donation.
              </p>
              <p ng-if="participantRegistration.receiveGiftNotification == 'true'">
                Turn off email notifications when I receive a donation.
              </p>
            </div>
            <div class="pull-right">
              <a href id="turn_on_emails" class="btn btn-primary-inverted" ng-click="toggleGiftNotification(true)" ng-if="participantRegistration.receiveGiftNotification != 'true'">Turn On Emails</a>
              <a href id="turn_off_emails" class="btn btn-primary-inverted" ng-click="toggleGiftNotification(false)" ng-if="participantRegistration.receiveGiftNotification == 'true'">Turn Off Emails</a>
            </div>
          </div>
          <div class="manage_walk_items clearfix" ng-if="teamraiserConfig.personalOfflineGiftsAllowed == 'true'">
            <div class="pull-left">
              <div class="manage_walk_header">
                Enter Cash or Checks:
              </div>
              <p>
                Enter offline donations here.
              </p>
            </div>
            <div class="pull-right">
              <a href id="enter_donations" class="btn btn-primary-inverted" ng-click="addOfflineGift('personal')">Enter Donations</a>
            </div>
          </div>
          <div class="manage_walk_items clearfix">
            <div class="pull-left">
              <div class="manage_walk_header">
                My Donation PDF
              </div>
              <p>
                Your paper donation form.
              </p>
            </div>
            <div class="pull-right">
              <a id="download_pdf" ng-href="{{baseDomain}}/site/PageNavigator/hw_offline_donation_form.html?pgwrap=n&amp;fr_id={{frId}}&amp;px={{consId}}" target="_blank" class="btn btn-primary-inverted">Download PDF</a>
            </div>
          </div>
        </div>
      </div>
      <div class="clearfix">
        <div class="heart_pc_my_donors clearfix">
          <div class="clearfix">
            <h2 class="pull-left">
              My Donors
            </h2>
            <a id="download_donation_list_prev" class="btn btn-primary-inverted pull-right" ng-if="prevFrId != 'F'" ng-href="TRParticipantDownload/Personal_Donations.csv?download_type=personal_donations&amp;fr_id={{prevFrId}}" target="_blank">Download My Past Donors</a><a id="download_donation_list" class="btn btn-primary-inverted pull-right" ng-if="participantGifts.totalNumber > 0" ng-href="TRParticipantDownload/Personal_Donations.csv?download_type=personal_donations&amp;fr_id={{frId}}" target="_blank">Download My Donors</a>
          </div>
          <div ng-if="participantGifts.totalNumber == 0">
            No donations found.
          </div>
          <gift-list list-type="'participant'" gifts="participantGifts.gifts" sort-column="participantGifts.sortColumn" sort-ascending="participantGifts.sortAscending" sort-gifts="sortGifts" delete-gift="deleteGift" acknowledge-gift="acknowledgeGift" thank-donor="thankDonor" ng-if="participantGifts.totalNumber && participantGifts.totalNumber != 0"></gift-list>
          <div class="heart-list-pagination" ng-if="participantGifts.totalNumber > 10">
            <ul uib-pagination direction-links="false" items-per-page="10" total-items="participantGifts.totalNumber" max-size="10" ng-model="participantGifts.page" ng-change="getGifts()"></ul>
          </div>
        </div>
        <div class="heart-news-center" ng-cloak>
          <div ng-if="newsFeed.totalNumber == 0">
            <h2>
              Welcome to Heart Walk!
            </h2>
            <p>
              Thank you for joining us to build healthier lives, free of cardiovascular diseases and stroke. This Participant Center is designed to help you be successful at your fundraising. Take time to move through the checklist above and hit your goal before event weekend!
            </p>
            <p>
              As an added benefit to help you on your journey toward a healthy and active lifestyle we invite you to join the American Heart Association's Healthy For Good movement. Healthy For Good will engage you in new, simple and innovative ways to improve your health. Visit <a href="http://www.heart.org/healthyforgood" id="healthy_for_good_link" target="_blank">heart.org/healthyforgood</a>.
            </p>
          </div>
          <div ng-if="newsFeed.totalNumber > 0">
            <h2>
              News Center
            </h2>
            <news-feed-list items="newsFeed.items"></news-feed-list>
          </div>
        </div>
      </div>
    </uib-tab>
    <!-- TODO: conditionalize on team status -->
    <uib-tab index="1" ng-if="participantRegistration.teamId && participantRegistration.teamId != '-1'">
      <uib-tab-heading>
        My Team
      </uib-tab-heading>
      <div class="clearfix">
        <div ng-if="constituent">
          <h1 ng-if="teamInfo.name">
            My Team: <span ng-bind-html="teamInfo.name"></span>
          </h1>
          <h1 ng-if="!teamInfo.name">
            My Team
          </h1>
        </div>
      </div>
      <div class="clearfix">
        <div class="heart-page-rail heart-page-rail--participant-center">
          <h2>
            Team Progress:
          </h2>
          <div class="progress heart_pc_sidebar_thermometer">
            <div class="progress-bar heart_pc_sidebar_thermometer_fill" ng-style="{'width': teamProgress.percent + '%'}"></div>
            <span class="heart_pc_sidebar_percentage">{{teamProgress.percent}}%</span>
          </div>
          <div class="heart_pc_sidebar_row clearfix">
            <div class="pull-left">
              <p>
                Raised: {{teamProgress.raisedFormatted}}
              </p>
              <p>
                Goal: {{teamProgress.goalFormatted}}
              </p>
            </div>
            <div class="pull-right">
              <a href id="edit_team_goal" class="btn btn-primary-inverted btn-goal" ng-click="editGoal('Team')" ng-if="participantRegistration.aTeamCaptain == 'true'">Edit Goal</a>
            </div>
          </div>
          <div class="heart_pc_sidebar_row clearfix">
            <p>
              Share team page:
            </p>
            <div class="addthis_toolbox" addthis:url="{{teamPageUrl}}">
              <a id="share_team_page_facebook" class="heart_pc_sidebar_sharebtn addthis_button_facebook" ng-href="{{baseUrl}}#">
                <i class="fa fa-facebook"></i><span class="sr-only">Facebook</span>
              </a>
              <a id="share_team_page_twitter" class="heart_pc_sidebar_sharebtn addthis_button_twitter" ng-href="{{baseUrl}}#">
                <i class="fa fa-twitter"></i><span class="sr-only">Twitter</span>
              </a>
              <a id="share_team_page_linkedin" class="heart_pc_sidebar_sharebtn addthis_button_linkedin" ng-href="{{baseUrl}}#">
                <i class="fa fa-linkedin"></i><span class="sr-only">LinkedIn</span>
              </a>
            </div>
          </div>
        </div>
        <div class="heart_pc_main_page">
          <h2>
            Manage My Team:
          </h2>
          <div class="manage_walk_items clearfix">
            <div class="pull-left">
              <div class="manage_walk_header">
                Team's URL:
              </div>
              <p>
                {{teamPageUrl}}
              </p>
            </div>
            <div class="pull-right" ng-if="participantRegistration.aTeamCaptain == 'true'">
              <a href id="edit_team_url" class="btn btn-primary-inverted" ng-click="editPageUrl('Team')">Edit URL</a>
            </div>
          </div>
          <div class="manage_walk_items clearfix" ng-if="participantRegistration.aTeamCaptain == 'true'">
            <div class="pull-left">
              <div class="manage_walk_header">
                Update Team Name:
              </div>
              <p>
                Misspelled? Wrong? Update it here.
              </p>
            </div>
            <div class="pull-right">
              <a id="edit_team_name" class="btn btn-primary-inverted" ng-click="editTeamName()">Edit Name</a>
            </div>
          </div>
          <div class="manage_walk_items clearfix" ng-if="participantRegistration.aTeamCaptain == 'true'">
            <div class="pull-left">
              <div class="manage_walk_header">
                Email My Team:
              </div>
              <p>
                Send an email directly to everyone on your team.
              </p>
            </div>
            <div class="pull-right">
              <a href id="email_team" class="btn btn-primary-inverted" ng-click="emailAllTeamMembers()">Email Team</a>
            </div>
          </div>
          <div class="manage_walk_items clearfix" ng-if="teamraiserConfig.personalOfflineGiftsAllowed == 'true' && ((teamraiserConfig.offlineTeamGifts == 'CAPTAINS' && participantRegistration.aTeamCaptain == 'true') || teamraiserConfig.offlineTeamGifts == 'MEMBERS')">
            <div class="pull-left">
              <div class="manage_walk_header">
                Enter a Team Gift:
              </div>
              <p>
                Enter offline donations you receive for your team.
              </p>
            </div>
            <div class="pull-right">
              <a id="enter_team_donations" class="btn btn-primary-inverted" ng-click="addOfflineGift('team')">Enter Donations</a>
            </div>
          </div>
        </div>
      </div>
      <div class="clearfix">
        <div class="heart-team-members">
          <div class="heart-team-members__header clearfix">
            <h2>
              <span ng-bind-html="teamInfo.name"></span> Roster
            </h2>
            <a id="download_team_roster" ng-if="participantRegistration.aTeamCaptain == 'true'" class="btn btn-primary-inverted pull-right" ng-href="TRParticipantDownload/Team_Roster.csv?download_type=team_roster&amp;fr_id={{frId}}" target="_blank">Download Team Roster</a>
          </div>
          <!-- TODO: empty state -->
          <trpc-team-member-list members="teamMembers.members" sort-column="teamMembers.sortColumn" sort-ascending="teamMembers.sortAscending" sort-members="sortTeamMembers" email-team-member="emailTeamMember"></trpc-team-member-list>
          <div class="heart-list-pagination" ng-if="teamMembers.totalNumber > 10">
            <ul uib-pagination direction-links="false" items-per-page="10" total-items="teamMembers.totalNumber" max-size="10" ng-model="teamMembers.page" ng-change="getTeamMembers()"></ul>
          </div>
        </div>
        <div class="heart_pc_my_donors clearfix">
          <div class="clearfix">
            <h2 class="pull-left" ng-if="teamInfo.name">
              <span ng-bind-html="teamInfo.name"></span> Donors
            </h2>
            <h2 class="pull-left" ng-if="!teamInfo.name">
              Team Donors
            </h2>
            <a id="download_team_donation_list" class="btn btn-primary-inverted pull-right" ng-href="TRParticipantDownload/Team_Donations.csv?download_type=team_donations&amp;fr_id={{frId}}" target="_blank">Download Donation List</a>
          </div>
          <div ng-if="teamGifts.totalNumber == 0">
            No donations found.
          </div>
          <gift-list list-type="'team'" gifts="teamGifts.gifts" sort-column="teamGifts.sortColumn" sort-ascending="teamGifts.sortAscending" sort-gifts="sortTeamGifts" delete-gift="deleteTeamGift" acknowledge-gift="acknowledgeGift" thank-donor="thankDonor" ng-if="teamGifts.totalNumber && teamGifts.totalNumber != 0"></gift-list>
          <div class="heart-list-pagination" ng-if="teamGifts.totalNumber > 10">
            <ul uib-pagination direction-links="false" items-per-page="10" total-items="teamGifts.totalNumber" max-size="10" ng-model="teamGifts.page" ng-change="getTeamGifts()"></ul>
          </div>
        </div>
        <div class="heart-captains-message heart-captains-message--highlighted" ng-if="(teamCaptainsMessage.message && teamCaptainsMessage.message != '') || teamCaptainsMessage.editable == 'true'">
          <div class="clearfix">
            <a id="edit_team_message" class="pull-right" ng-click="editTeamCaptainsMessage()" ng-if="teamCaptainsMessage.editable == 'true' && !teamCaptainsMessage.inEditMode">Edit</a>
            <a id="save_team_message" class="pull-right" ng-click="saveTeamCaptainsMessage()" ng-if="teamCaptainsMessage.inEditMode">Save</a>
            <h2>
              <span ng-if="teamCaptainsMessage.editable != 'true'">From My Team Captain</span>
              <span ng-if="teamCaptainsMessage.editable == 'true'">A Message for Your Team</span>
            </h2>
          </div>
          <div ng-if="!teamCaptainsMessage.inEditMode">
            <div ng-if="teamCaptainsMessage.editable == 'true' && (!teamCaptainsMessage.message || teamCaptainsMessage.message == '')">
              <span translate="captains_message_empty"></span>
            </div>
            <div ng-if="teamCaptainsMessage.message && teamCaptainsMessage.message != ''">
              {{teamCaptainsMessage.message}}
            </div>
          </div>
          <div ng-if="teamCaptainsMessage.inEditMode">
            <textarea class="form-control" name="captains_message" placeholder="Enter your message" ng-model="teamCaptainsMessage.message"></textarea>
          </div>
        </div>
        <div class="heart-news-center" ng-if="newsFeed.totalNumber > 0" ng-cloak>
          <h2>
            News Center
          </h2>
          <news-feed-list items="newsFeed.items"></news-feed-list>
          <!-- TODO: pagination -->
        </div>
      </div>
    </uib-tab>
    <uib-tab index="2" ng-if="participantRegistration.companyInformation && participantRegistration.companyInformation.companyId && participantRegistration.companyInformation.companyId != -1">
      <uib-tab-heading>
        My Company
      </uib-tab-heading>
      <div class="clearfix">
        <div class="heart-page-rail heart-page-rail--participant-center">
          <h2>
            Company Progress:
          </h2>
          <div class="progress heart_pc_sidebar_thermometer">
            <div class="progress-bar heart_pc_sidebar_thermometer_fill" ng-style="{'width': companyProgress.percent + '%'}"></div>
            <span class="heart_pc_sidebar_percentage">{{companyProgress.percent}}%</span>
          </div>
          <div class="heart_pc_sidebar_row clearfix">
            <div class="pull-left">
              <p>
                We've Raised: {{companyProgress.raisedFormatted}}
              </p>
            </div>
          </div>
          <div class="heart_pc_sidebar_row clearfix">
            <p>
              Share Company page:
            </p>
            <div class="addthis_toolbox" addthis:url="{{companyPageUrl}}">
              <a id="share_company_page_facebook" class="heart_pc_sidebar_sharebtn addthis_button_facebook" ng-href="{{baseUrl}}#">
                <i class="fa fa-facebook"></i><span class="sr-only">Facebook</span>
              </a>
              <a id="share_company_page_twitter" class="heart_pc_sidebar_sharebtn addthis_button_twitter" ng-href="{{baseUrl}}#">
                <i class="fa fa-twitter"></i><span class="sr-only">Twitter</span>
              </a>
              <a id="share_company_page_linkedin" class="heart_pc_sidebar_sharebtn addthis_button_linkedin" ng-href="{{baseUrl}}#">
                <i class="fa fa-linkedin"></i><span class="sr-only">LinkedIn</span>
              </a>
            </div>
          </div>
        </div>
        <div class="heart_pc_main_page">
          <h2>
            Manage My Team:
          </h2>
          <div class="heart-company-related-list">
            <div class="heart-company-related-list__header clearfix">
              <h2>
                <span ng-bind-html="companyInfo.companyName"></span> Teams
              </h2>
              <div class="dropdown" ng-if="participantRegistration.companyInformation.isCompanyCoordinator == 'true'">
                <a data-toggle="dropdown">
                  <i class="glyphicon glyphicon-cog"></i> <u>Tasks</u>
                </a>
                <ul class="dropdown-menu">
                  <li>
                    <a id="download_company_team_list" ng-href="TRParticipantDownload/Company_Teams.csv?download_type=company_teams&amp;fr_id={{frId}}" target="_blank">Download Company Team List</a>
                  </li>
                </ul>
              </div>
            </div>
            <!-- TODO: empty state -->
            <trpc-company-team-list sort-column="companyTeams.sortColumn" sort-ascending="companyTeams.sortAscending" sort-teams="sortCompanyTeams" teams="companyTeams.teams"></trpc-company-team-list>
            <div class="heart-list-pagination" ng-if="companyTeams.totalNumber > 10">
              <ul uib-pagination direction-links="false" items-per-page="10" total-items="companyTeams.totalNumber" max-size="10" ng-model="companyTeams.page" ng-change="getCompanyTeams()"></ul>
            </div>
          </div>
          <div class="heart-company-related-list heart-company-related-list--participants">
            <h2>
              <span ng-bind-html="companyInfo.companyName"></span> Participants
            </h2>
            <!-- TODO: empty state -->
            <trpc-company-participant-list participants="companyParticipants.participants" sort-column="companyParticipants.sortColumn" sort-ascending="companyParticipants.sortAscending" sort-participants="sortCompanyParticipants" email-participant="emailCompanyParticipant"></trpc-company-participant-list>
            <div class="heart-list-pagination" ng-if="companyParticipants.totalNumber > 10">
              <ul uib-pagination direction-links="false" items-per-page="10" total-items="companyParticipants.totalNumber" max-size="10" ng-model="companyParticipants.page" ng-change="getCompanyParticipants()"></ul>
            </div>
          </div>
        </div>
      </div>
    </uib-tab>
  </uib-tabset>
</div>
